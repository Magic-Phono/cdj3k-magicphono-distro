--- a/arch/arm64/boot/dts/renesas/r8a7796.dtsi	2018-09-13 17:01:21.000000000 +0900
+++ b/arch/arm64/boot/dts/renesas/r8a7796.dtsi	2019-03-28 17:25:10.501397868 +0900
@@ -1620,16 +1620,6 @@
 			       <&ipmmu_ds1 30>, <&ipmmu_ds1 31>;
 		};
 
-		sdhi0: sd@ee100000 {
-			compatible = "renesas,sdhi-r8a7796";
-			reg = <0 0xee100000 0 0x2000>;
-			interrupts = <GIC_SPI 165 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 314>;
-			max-frequency = <200000000>;
-			power-domains = <&sysc R8A7796_PD_ALWAYS_ON>;
-			status = "disabled";
-		};
-
 		sdhi1: sd@ee120000 {
 			compatible = "renesas,sdhi-r8a7796";
 			reg = <0 0xee120000 0 0x2000>;
@@ -1660,6 +1650,16 @@
 			status = "disabled";
 		};
 
+		sdhi0: sd@ee100000 {
+			compatible = "renesas,sdhi-r8a7796";
+			reg = <0 0xee100000 0 0x2000>;
+			interrupts = <GIC_SPI 165 IRQ_TYPE_LEVEL_HIGH>;
+			clocks = <&cpg CPG_MOD 314>;
+			max-frequency = <200000000>;
+			power-domains = <&sysc R8A7796_PD_ALWAYS_ON>;
+			status = "disabled";
+		};
+
 		vin0: video@e6ef0000 {
 			compatible = "renesas,vin-r8a7796";
 			reg = <0 0xe6ef0000 0 0x1000>;
@@ -2068,6 +2068,15 @@
 			renesas,#ch = <0>;
 		};
 
+		usb3_phy: usb-phy@e65ee000 {
+			compatible = "renesas,usb3-phy-r8a7796", "renesas,rcar-gen3-usb3-phy";
+			reg = <0 0xe65ee000 0 0x90>;
+			clocks = <&cpg CPG_MOD 328>;
+			power-domains = <&sysc R8A7796_PD_ALWAYS_ON>;
+			#phy-cells = <0>;
+			status = "disabled";
+		};
+
 		xhci0: usb@ee000000 {
 			compatible = "renesas,xhci-r8a7796", "renesas,rcar-gen3-xhci";
 			reg = <0 0xee000000 0 0xc00>;
@@ -2112,6 +2121,15 @@
 			dma-channels = <2>;
 		};
 
+		usb2_clksel_phy: usb-phy@e6590630 {
+			compatible = "renesas,usb2-clksel-phy-r8a7796", "renesas,rcar-gen3-usb2-clksel-phy";
+			reg = <0 0xe6590630 0 0x02>;
+			clocks = <&cpg CPG_MOD 703>;
+			power-domains = <&sysc R8A7796_PD_ALWAYS_ON>;
+			#phy-cells = <0>;
+			status = "disabled";
+		};
+
 		usb2_phy0: usb-phy@ee080200 {
 			compatible = "renesas,usb2-phy-r8a7796";
 			reg = <0 0xee080200 0 0x700>;

--- a/arch/arm64/boot/dts/renesas/r8a7796-salvator-x.dts	2018-09-13 17:01:21.000000000 +0900
+++ b/arch/arm64/boot/dts/renesas/r8a7796-salvator-x.dts	2019-12-23 14:59:24.302030738 +0900
@@ -8,59 +8,35 @@
  * kind, whether express or implied.
  */
 
-/*
- * SSI-AK4613
- *
- * This command is required when Playback/Capture
- *
- *	amixer set "DVC Out" 100%
- *	amixer set "DVC In" 100%
- *
- * You can use Mute
- *
- *	amixer set "DVC Out Mute" on
- *	amixer set "DVC In Mute" on
- *
- * You can use Volume Ramp
- *
- *	amixer set "DVC Out Ramp Up Rate"   "0.125 dB/64 steps"
- *	amixer set "DVC Out Ramp Down Rate" "0.125 dB/512 steps"
- *	amixer set "DVC Out Ramp" on
- *	aplay xxx.wav &
- *	amixer set "DVC Out"  80%  // Volume Down
- *	amixer set "DVC Out" 100%  // Volume Up
- */
-
 /dts-v1/;
 #include "r8a7796.dtsi"
 #include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/input/input.h>
 
 / {
 	model = "Renesas Salvator-X board based on r8a7796";
-	compatible = "renesas,salvator-x", "renesas,r8a7796";
+	compatible = "renesas,Salvator-X", "renesas,r8a7796";
 
 	aliases {
 		serial0 = &scif2;
-		serial1 = &scif1;
 		ethernet0 = &avb;
 	};
 
 	chosen {
-		bootargs = "ignore_loglevel";
 		stdout-path = "serial0:115200n8";
 	};
 
 	memory@48000000 {
 		device_type = "memory";
 		/* first 128MB is reserved for secure area. */
-		reg = <0x0 0x48000000 0x0 0x78000000>;
+		reg = <0x0 0x48000000 0x0 0x38000000>;
 	};
 
 	memory@600000000 {
 		device_type = "memory";
-		reg = <0x6 0x00000000 0x0 0x80000000>;
+		reg = <0x6 0x00000000 0x0 0x40000000>;
 	};
-
+#if 0
 	reserved-memory {
 		#address-cells = <2>;
 		#size-cells = <2>;
@@ -72,13 +48,6 @@
 			reg = <0x00000000 0x54000000 0x0 0x03000000>;
 		};
 
-		/* For Audio DSP */
-		adsp_reserved: linux,adsp {
-			compatible = "shared-dma-pool";
-			reusable;
-			reg = <0x00000000 0x57000000 0x0 0x01000000>;
-		};
-
 		/* global autoconfigured region for contiguous allocations */
 		linux,cma {
 			compatible = "shared-dma-pool";
@@ -103,7 +72,7 @@
 	mmngrbuf {
 		compatible = "renesas,mmngrbuf";
 	};
-
+#endif
 	avb-mch {
 		compatible = "renesas,avb-mch-gen3";
 		reg =	<0 0xec5a0100 0 0x100>;  /* ADG_AVB */
@@ -137,11 +106,8 @@
 		regulator-name = "SDHI0 Vcc";
 		regulator-min-microvolt = <3300000>;
 		regulator-max-microvolt = <3300000>;
-
-		gpio = <&gpio5 2 GPIO_ACTIVE_HIGH>;
-		enable-active-high;
 	};
-
+/*
 	vccq_sdhi0: regulator-vccq-sdhi0 {
 		compatible = "regulator-gpio";
 
@@ -149,65 +115,44 @@
 		regulator-min-microvolt = <1800000>;
 		regulator-max-microvolt = <3300000>;
 
-		gpios = <&gpio5 1 GPIO_ACTIVE_HIGH>;
-		gpios-states = <1>;
-		states = <3300000 1
-			  1800000 0>;
-	};
-
-	vcc_sdhi3: regulator-vcc-sdhi3 {
-		compatible = "regulator-fixed";
-
-		regulator-name = "SDHI3 Vcc";
-		regulator-min-microvolt = <3300000>;
-		regulator-max-microvolt = <3300000>;
-
-		gpio = <&gpio3 15 GPIO_ACTIVE_HIGH>;
-		enable-active-high;
-	};
-
-	vccq_sdhi3: regulator-vccq-sdhi3 {
-		compatible = "regulator-gpio";
-
-		regulator-name = "SDHI3 VccQ";
-		regulator-min-microvolt = <1800000>;
-		regulator-max-microvolt = <3300000>;
-
-		gpios = <&gpio3 14 GPIO_ACTIVE_HIGH>;
+		gpios = <&gpio5 14 GPIO_ACTIVE_HIGH>;
 		gpios-states = <1>;
 		states = <3300000 1
 			  1800000 0>;
 	};
-
-	x12_clk: x12_clk {
-		compatible = "fixed-clock";
-		#clock-cells = <0>;
-		clock-frequency = <24576000>;
-	};
-
-	audio_clkout: audio_clkout {
+*/
+	audio_clkout: audio-clkout {
 		/*
 		 * This is same as <&rcar_sound 0>
-		 * but needed to avoid cs2000/rcar_sound probe dead-lock
+		 * but needed to avoid rcar_sound probe dead-lock
 		 */
 		compatible = "fixed-clock";
 		#clock-cells = <0>;
 		clock-frequency = <11289600>;
 	};
 
-	rsnd_ak4613: sound {
+	sound {
 		compatible = "simple-audio-card";
+		simple-audio-card,name = "DAC-DIT";
 
-		simple-audio-card,format = "left_j";
-		simple-audio-card,bitclock-master = <&sndcpu>;
-		simple-audio-card,frame-master = <&sndcpu>;
-
-		sndcpu: simple-audio-card,cpu {
-			sound-dai = <&rcar_sound>;
+		simple-audio-card,dai-link@0 {
+			format = "i2s";
+			cpu {
+				sound-dai = <&rcar_sound>;
+			};
+			codec {
+				sound-dai = <&ak4490>;
+			};
 		};
 
-		sndcodec: simple-audio-card,codec {
-			sound-dai = <&ak4613>;
+		simple-audio-card,dai-link@1 {
+			format = "i2s";
+			cpu {
+				sound-dai = <&rcar_sound>;
+			};
+			codec {
+				sound-dai = <&ak4104>;
+			};
 		};
 	};
 
@@ -271,22 +216,22 @@
 	lvds {
 		compatible = "lvds-connector", "panel-lvds";
 
-		width-mm = <210>;
-		height-mm = <158>;
+		width-mm = <198>;
+		height-mm = <111>;
 
-		data-mapping = "jeida-24";
+		data-mapping = "vesa-24";
 
 		panel-timing {
-			/* 1024x768 @60Hz */
-			clock-frequency = <65000000>;
-			hactive = <1024>;
-			vactive = <768>;
-			hsync-len = <136>;
+			/* 1280x720 */
+			clock-frequency = <57140000>;
+			hactive = <1280>;
+			vactive = <720>;
+			hsync-len = <24>;
 			hfront-porch = <20>;
-			hback-porch = <160>;
-			vfront-porch = <3>;
-			vback-porch = <29>;
+			hback-porch = <20>;
 			vsync-len = <6>;
+			vfront-porch = <6>;
+			vback-porch = <6>;
 		};
 
 		port {
@@ -296,25 +241,22 @@
 		};
 	};
 
-	hdmi0-out {
-		compatible = "hdmi-connector";
-		type = "a";
-
-		port {
-			hdmi0_con: endpoint {
-				remote-endpoint = <&rcar_dw_hdmi0_out>;
-			};
-		};
-	};
-
 	vbus0_usb2: regulator-vbus0-usb2 {
 		compatible = "regulator-fixed";
 
 		regulator-name = "USB20_VBUS0";
 		regulator-min-microvolt = <5000000>;
 		regulator-max-microvolt = <5000000>;
-		gpio = <&gpio6 16 GPIO_ACTIVE_HIGH>;
-		enable-active-high;
+/*		gpio = <&gpio6 16 GPIO_ACTIVE_HIGH>; */
+/*		enable-active-high; */
+	};
+
+	fan_control {
+		compatible = "renesas,fancont-r8a7796";
+		reg = <0 0xe6055800 0 0x50>;
+		disable-fan-temp = <95000>;
+		enable-fan-low-temp = <100000>;
+		enable-fan-high-temp = <105000>;
 	};
 };
 
@@ -322,14 +264,14 @@
 	cpu-supply = <&vdd_dvfs>;
 };
 
-&pwm1 {
-	pinctrl-0 = <&pwm1_pins>;
+&pwm0 {
+	pinctrl-0 = <&pwm0_pins>;
 	pinctrl-names = "default";
 	status = "okay";
 };
 
-&pwm2 {
-	pinctrl-0 = <&pwm2_pins>;
+&pwm1 {
+	pinctrl-0 = <&pwm1_pins>;
 	pinctrl-names = "default";
 	status = "okay";
 };
@@ -338,37 +280,29 @@
 	pinctrl-0 = <&scif_clk_pins>;
 	pinctrl-names = "default";
 
-	pwm1_pins: pwm1 {
-		groups = "pwm1_a", "pwm1_b";
-		function = "pwm1";
-	};
-	pwm2_pins: pwm2 {
-		groups = "pwm2_a", "pwm2_b";
-		function = "pwm2";
+	pwm0_pins: pwm0 {
+		groups = "pwm0";
+		function = "pwm0";
 	};
 
-	scif1_pins: scif1 {
-		groups = "scif1_data_a", "scif1_ctrl";
-		function = "scif1";
+	pwm1_pins: pwm1 {
+		groups = "pwm1_a";
+		function = "pwm1";
 	};
 
 	scif2_pins: scif2 {
 		groups = "scif2_data_a";
 		function = "scif2";
 	};
+
 	scif_clk_pins: scif_clk {
 		groups = "scif_clk_a";
 		function = "scif_clk";
 	};
 
-	hscif1_pins: hscif1 {
-		groups = "hscif1_data_a", "hscif1_ctrl_a";
-		function = "hscif1";
-	};
-
-	i2c2_pins: i2c2 {
-		groups = "i2c2_a";
-		function = "i2c2";
+	i2c1_pins: i2c1 {
+		groups = "i2c1_b";
+		function = "i2c1";
 	};
 
 	avb_pins: avb {
@@ -381,13 +315,13 @@
 		function = "sdhi0";
 		power-source = <3300>;
 	};
-
+/*
 	sdhi0_pins_uhs: sd0_uhs {
 		groups = "sdhi0_data4", "sdhi0_ctrl";
 		function = "sdhi0";
 		power-source = <1800>;
 	};
-
+*/
 	sdhi2_pins: sd2 {
 		groups = "sdhi2_data8", "sdhi2_ctrl", "sdhi2_ds";
 		function = "sdhi2";
@@ -400,50 +334,31 @@
 		power-source = <1800>;
 	};
 
-	sdhi3_pins: sd3 {
-		groups = "sdhi3_data4", "sdhi3_ctrl";
-		function = "sdhi3";
-		power-source = <3300>;
-	};
-
-	sdhi3_pins_uhs: sd3_uhs {
-		groups = "sdhi3_data4", "sdhi3_ctrl";
-		function = "sdhi3";
-		power-source = <1800>;
-	};
-
 	msiof0_pins: spi1 {
-		groups = "msiof0_clk", "msiof0_sync",
+		groups = "msiof0_clk", "msiof0_ss1", "msiof0_ss2",
 				"msiof0_rxd",  "msiof0_txd";
 		function = "msiof0";
 	};
 
 	msiof1_pins: spi2 {
-		groups = "msiof1_clk_c", "msiof1_sync_c",
-				"msiof1_rxd_c",  "msiof1_txd_c";
+		groups = "msiof1_clk_b",
+				"msiof1_rxd_b",  "msiof1_txd_b";
 		function = "msiof1";
 	};
 
-	msiof2_pins: spi3 {
-		groups = "msiof2_clk_b", "msiof2_sync_b",
-				"msiof2_rxd_b",  "msiof2_txd_b";
-		function = "msiof2";
-	};
-
 	msiof3_pins: spi4 {
-		groups = "msiof3_clk_d", "msiof3_sync_d",
-						"msiof3_rxd_d",  "msiof3_txd_d";
+		groups = "msiof3_clk_d", "msiof3_ss1_d",
+				"msiof3_rxd_d",  "msiof3_txd_d";
 		function = "msiof3";
 	};
 
 	sound_pins: sound {
-		groups = "ssi01239_ctrl", "ssi0_data", "ssi1_data_a";
+		groups = "ssi01239_ctrl", "ssi0_data";
 		function = "ssi";
 	};
 
-	sound_clk_pins: sound_clk {
-		groups = "audio_clk_a_a", "audio_clk_b_a", "audio_clk_c_a",
-				 "audio_clkout_a", "audio_clkout3_a";
+	sound_clk_pins: sound-clk {
+		groups = "audio_clk_a_a", "audio_clk_b_a";
 		function = "audio_clk";
 	};
 
@@ -458,21 +373,17 @@
 	};
 };
 
-&adsp {
-	status = "okay";
-	memory-region = <&adsp_reserved>;
-};
-
 &avb {
 	pinctrl-0 = <&avb_pins>;
 	pinctrl-names = "default";
 	renesas,no-ether-link;
-	phy-handle = <&phy0>;
+	phy-handle = <&phy29>;
+	phy-mode = "rgmii-id";
 	status = "okay";
 	phy-gpios = <&gpio2 11 GPIO_ACTIVE_LOW>;
 	phy-reset-gpios = <&gpio2 10 GPIO_ACTIVE_LOW>;
 
-	phy0: ethernet-phy@0 {
+	phy29: ethernet-phy@1d {
 		rxc-skew-ps = <1500>;
 		rxdv-skew-ps = <420>; /* default */
 		rxd0-skew-ps = <420>; /* default */
@@ -485,7 +396,7 @@
 		txd1-skew-ps = <420>; /* default */
 		txd2-skew-ps = <420>; /* default */
 		txd3-skew-ps = <420>; /* default */
-		reg = <0>;
+		reg = <0x1d>;
 		interrupt-parent = <&gpio2>;
 		interrupts = <11 IRQ_TYPE_LEVEL_LOW>;
 	};
@@ -506,14 +417,13 @@
 &du {
 	status = "okay";
 
-	/* update <du_dotclkin0/2> to <programable_clk0/1> */
 	clocks = <&cpg CPG_MOD 724>,
 		 <&cpg CPG_MOD 723>,
 		 <&cpg CPG_MOD 722>,
 		 <&cpg CPG_MOD 727>,
-		 <&programmable_clk0>, <&du_dotclkin1>, <&programmable_clk1>;
+		 <&du_dotclkin0>, <&du_dotclkin1>, <&du_dotclkin2>;
 
-	backlight-gpios = <&gpio6 7 GPIO_ACTIVE_HIGH>;
+/*	backlight-gpios = <&gpio6 7 GPIO_ACTIVE_HIGH>; */
 
 	ports {
 		port@0 {
@@ -521,11 +431,6 @@
 				remote-endpoint = <&adv7123_in>;
 			};
 		};
-		port@1 {
-			endpoint {
-				remote-endpoint = <&rcar_dw_hdmi0_in>;
-			};
-		};
 		port@2 {
 			lvds_connector: endpoint {
 				remote-endpoint = <&lvds_enc_in>;
@@ -534,27 +439,6 @@
 	};
 };
 
-&hdmi0 {
-	status = "okay";
-
-	ports {
-		#address-cells = <1>;
-		#size-cells = <0>;
-		port@0 {
-			reg = <0>;
-			rcar_dw_hdmi0_in: endpoint {
-				remote-endpoint = <&du_out_hdmi0>;
-			};
-		};
-		port@1 {
-			reg = <1>;
-			rcar_dw_hdmi0_out: endpoint {
-				remote-endpoint = <&hdmi0_con>;
-			};
-		};
-	};
-};
-
 &extal_clk {
 	clock-frequency = <16666666>;
 };
@@ -565,16 +449,17 @@
 
 &sdhi0 {
 	pinctrl-0 = <&sdhi0_pins>;
-	pinctrl-1 = <&sdhi0_pins_uhs>;
-	pinctrl-names = "default", "state_uhs";
+/*	pinctrl-1 = <&sdhi0_pins_uhs>; */
+	pinctrl-names = "default";/*, "state_uhs";*/
 
 	vmmc-supply = <&vcc_sdhi0>;
-	vqmmc-supply = <&vccq_sdhi0>;
+/*	vqmmc-supply = <&vccq_sdhi0>; */
 	cd-gpios = <&gpio3 12 GPIO_ACTIVE_LOW>;
-	wp-gpios = <&gpio3 13 GPIO_ACTIVE_HIGH>;
+	wp-gpios = <&gpio3 13 GPIO_ACTIVE_LOW>;
 	bus-width = <4>;
-	sd-uhs-sdr50;
-	sd-uhs-sdr104;
+/*	sd-uhs-sdr50;
+	sd-uhs-sdr104; */
+	iommus = <&ipmmu_ds1 32>;
 	status = "okay";
 };
 
@@ -587,38 +472,20 @@
 	vmmc-supply = <&reg_3p3v>;
 	vqmmc-supply = <&reg_1p8v>;
 	mmc-hs200-1_8v;
-	mmc-hs400-1_8v;
+/*	mmc-hs400-1_8v; */
 	bus-width = <8>;
-	drive-strength = <1>;
 	non-removable;
-	status = "okay";
-};
-
-&sdhi3 {
-	pinctrl-0 = <&sdhi3_pins>;
-	pinctrl-1 = <&sdhi3_pins_uhs>;
-	pinctrl-names = "default", "state_uhs";
-
-	vmmc-supply = <&vcc_sdhi3>;
-	vqmmc-supply = <&vccq_sdhi3>;
-	cd-gpios = <&gpio4 15 GPIO_ACTIVE_LOW>;
-	wp-gpios = <&gpio4 16 GPIO_ACTIVE_HIGH>;
-	bus-width = <4>;
-	sd-uhs-sdr50;
-	sd-uhs-sdr104;
-	status = "okay";
-};
-
-&scif1 {
-	pinctrl-0 = <&scif1_pins>;
-	pinctrl-names = "default";
-	/* Please use exclusively to the hscif1 node */
+	drive-strength = <4>;
+	fixed-emmc-driver-type = <1>;
+	iommus = <&ipmmu_ds1 34>;
 	status = "okay";
 };
 
 &scif2 {
 	pinctrl-0 = <&scif2_pins>;
 	pinctrl-names = "default";
+	clocks = <&cpg CPG_MOD 310>;
+	clock-names = "fck";
 	status = "okay";
 };
 
@@ -627,106 +494,13 @@
 	status = "okay";
 };
 
-&hscif1 {
-	pinctrl-0 = <&hscif1_pins>;
-	pinctrl-names = "default";
-	/* Please use exclusively to the scif1 node */
-	/* status = "okay"; */
-};
-
-&i2c2 {
-	pinctrl-0 = <&i2c2_pins>;
+&i2c1 {
+	pinctrl-0 = <&i2c1_pins>;
 	pinctrl-names = "default";
 
 	status = "okay";
 
 	clock-frequency = <100000>;
-
-	ak4613: codec@10 {
-		compatible = "asahi-kasei,ak4613";
-		#sound-dai-cells = <0>;
-		reg = <0x10>;
-		clocks = <&rcar_sound 3>;
-
-		asahi-kasei,in1-single-end;
-		asahi-kasei,in2-single-end;
-		asahi-kasei,out1-single-end;
-		asahi-kasei,out2-single-end;
-		asahi-kasei,out3-single-end;
-		asahi-kasei,out4-single-end;
-		asahi-kasei,out5-single-end;
-		asahi-kasei,out6-single-end;
-	};
-
-	cs2000: clk_multiplier@4f {
-		#clock-cells = <0>;
-		compatible = "cirrus,cs2000-cp";
-		reg = <0x4f>;
-		clocks = <&audio_clkout>, <&x12_clk>;
-		clock-names = "clk_in", "ref_clk";
-
-		assigned-clocks = <&cs2000>;
-		assigned-clock-rates = <24576000>; /* 1/1 divide */
-	};
-};
-
-&i2c4 {
-	status = "okay";
-
-	clock-frequency = <400000>;
-
-	adv7482_1: hdmi-in@34 {
-		compatible = "adi,adv7482";
-		reg = <0x34>;
-
-		adi,virtual-channel = <0>;
-		adi,input-interface = "rgb888";
-		adi,input-hdmi = "on";
-		adi,input-sdp = "on";
-		adi,sw-reset = "on";
-
-		port {
-			adv7482_1_out: endpoint@1 {
-				clock-lanes = <0>;
-				data-lanes = <1 2 3 4>;
-				remote-endpoint = <&csi2_40_0_in>;
-			};
-		};
-	};
-
-	adv7482_2: composite-in@70 {
-		compatible = "adi,adv7482";
-		reg = <0x70>;
-
-		adi,virtual-channel = <0>;
-		adi,input-interface = "ycbcr422";
-		adi,input-hdmi = "on";
-		adi,input-sdp = "on";
-		adi,sw-reset = "on";
-
-		port {
-			adv7482_2_out: endpoint@1 {
-				clock-lanes = <0>;
-				data-lanes = <1>;
-				remote-endpoint = <&csi2_20_0_in>;
-			};
-		};
-	};
-
-	clk_5p49v5923a: programmable_clk@6a {
-		compatible = "idt,5p49v5923a";
-		reg = <0x6a>;
-
-		programmable_clk0: 5p49x_clk1@6a {
-			#clock-cells = <0>;
-			clocks = <&du_dotclkin0>;
-		};
-
-		programmable_clk1: 5p49x_clk2@6a {
-			#clock-cells = <0>;
-			clocks = <&du_dotclkin2>;
-		};
-	};
 };
 
 &rcar_sound {
@@ -743,7 +517,6 @@
 
 	status = "okay";
 
-	/* update <audio_clk_b> to <cs2000> */
 	clocks = <&cpg CPG_MOD 1005>,
 		 <&cpg CPG_MOD 1006>, <&cpg CPG_MOD 1007>,
 		 <&cpg CPG_MOD 1008>, <&cpg CPG_MOD 1009>,
@@ -758,29 +531,26 @@
 		 <&cpg CPG_MOD 1020>, <&cpg CPG_MOD 1021>,
 		 <&cpg CPG_MOD 1020>, <&cpg CPG_MOD 1021>,
 		 <&cpg CPG_MOD 1019>, <&cpg CPG_MOD 1018>,
-		 <&audio_clk_a>, <&cs2000>,
+		 <&audio_clk_a>, <&audio_clk_b>,
 		 <&audio_clk_c>,
 		 <&cpg CPG_CORE R8A7796_CLK_S0D4>;
 
 	rcar_sound,dai {
 		dai0 {
-			playback = <&ssi0 &src0 &dvc0>;
-			capture  = <&ssi1 &src1 &dvc1>;
+			playback = <&ssi0>;
 		};
 	};
 };
 
-&ssi1 {
-	shared-pin;
-};
-
 &audio_clk_a {
 	clock-frequency = <22579200>;
 };
+&audio_clk_b {
+	clock-frequency = <24576000>;
+};
 
 &i2c_dvfs {
 	status = "okay";
-
 	clock-frequency = <400000>;
 
 	vdd_dvfs: regulator@30 {
@@ -800,10 +570,14 @@
 };
 
 &xhci0 {
+	iommus = <&ipmmu_hc 12>;
+	phys = <&usb3_phy>;
+	phy-names = "usb";
+
 	status = "okay";
 };
 
-&usb3_peri0 {
+&usb2_clksel_phy {
 	status = "okay";
 };
 
@@ -812,6 +586,7 @@
 	pinctrl-names = "default";
 
 	vbus-supply = <&vbus0_usb2>;
+
 	status = "okay";
 };
 
@@ -831,6 +606,7 @@
 };
 
 &ehci1 {
+	iommus = <&ipmmu_hc 5>;
 	status = "okay";
 };
 
@@ -839,53 +615,46 @@
 };
 
 &ohci1 {
+	iommus = <&ipmmu_hc 5>;
 	status = "okay";
 };
 
 &msiof_ref_clk {
-	clock-frequency = <133333333>;
+	clock-frequency = <66666666>;
 };
 
 &msiof0 {
 	pinctrl-0 = <&msiof0_pins>;
 	pinctrl-names = "default";
-	/* Please use exclusively to the rcar_sound node */
-	/* status = "okay"; */
+	status = "okay";
+	num-cs = <2>;
 
-	spidev@0 {
-		compatible = "renesas,sh-msiof";
+	ak4490: codec@0 {
+		compatible = "asahi-kasei,ak4490";
+		#sound-dai-cells = <0>;
 		reg = <0>;
-		spi-max-frequency = <66666666>;
-		spi-cpha;
-		spi-cpol;
+		spi-max-frequency = <3000000>;
+		spi-cpol = <1>;
 	};
-};
 
-&msiof1 {
-	pinctrl-0 = <&msiof1_pins>;
-	pinctrl-names = "default";
-	/* In case of using this node, please enable this property */
-	/* status = "okay"; */
-
-	spidev@0 {
-		compatible = "renesas,sh-msiof";
-		reg = <0>;
-		spi-max-frequency = <66666666>;
-		spi-cpha;
-		spi-cpol;
+	ak4104: codec@1 {
+		compatible = "asahi-kasei,ak4104";
+		#sound-dai-cells = <0>;
+		reg = <1>;
+		spi-max-frequency = <3000000>;
+		spi-cpol = <1>;
 	};
 };
 
-&msiof2 {
-	pinctrl-0 = <&msiof2_pins>;
+&msiof1 {
+	pinctrl-0 = <&msiof1_pins>;
 	pinctrl-names = "default";
-	/* In case of using this node, please enable this property */
-	/* status = "okay"; */
+	status = "okay";
 
 	spidev@0 {
-		compatible = "renesas,sh-msiof";
+		compatible = "renesas,sh-msiof1";
 		reg = <0>;
-		spi-max-frequency = <66666666>;
+		spi-max-frequency = <1000000>;
 		spi-cpha;
 		spi-cpol;
 	};
@@ -894,111 +663,213 @@
 &msiof3 {
 	pinctrl-0 = <&msiof3_pins>;
 	pinctrl-names = "default";
-	/* In case of using this node, please enable this property */
-	/* status = "okay"; */
+	status = "okay";
 
 	spidev@0 {
 		compatible = "renesas,sh-msiof";
 		reg = <0>;
-		spi-max-frequency = <66666666>;
+		spi-max-frequency = <5000000>;
 		spi-cpha;
 		spi-cpol;
 	};
 };
 
-&pcie_bus_clk {
-	clock-frequency = <100000000>;
-	status = "okay";
-};
-
-&pciec0 {
-	status = "okay";
-};
-
-&pciec1 {
-	status = "okay";
-};
-
-&vin0 {
+&vspb {
 	status = "okay";
 };
 
-&vin1 {
+&vspi0 {
 	status = "okay";
 };
 
-&vin2 {
+&ipmmu_hc {
 	status = "okay";
 };
 
-&vin3 {
+&ipmmu_mm {
 	status = "okay";
 };
 
-&vin4 {
+&ipmmu_ds0 {
 	status = "okay";
 };
 
-&vin5 {
+&ipmmu_ds1 {
 	status = "okay";
 };
 
-&vin6 {
-	status = "okay";
-};
+&usb3_phy {
+	pinctrl-names = "default";
+	renesas,usb-extal;
+	renesas,ssc-range = <4492>;
 
-&vin7 {
 	status = "okay";
 };
 
-&csi2_20 {
-	status = "okay";
-
-	ports {
-		#address-cells = <1>;
-		#size-cells = <0>;
-
-		port@0 {
-			reg = <0>;
-
-			csi2_20_0_in: endpoint@0 {
-				clock-lanes = <0>;
-				data-lanes = <1>;
-				virtual-channel-number = <1>;
-				remote-endpoint = <&adv7482_2_out>;
-			};
-		};
+&gpio0 {
+	g2m_jlcd_sel {
+		gpio-hog;
+		gpios = <0 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "G2M_JLCD_SEL";
 	};
 };
 
-&csi2_40 {
-	status = "okay";
-
-	ports {
-		#address-cells = <1>;
-		#size-cells = <0>;
-
-		port@0 {
-			reg = <0>;
-
-			csi2_40_0_in: endpoint@0 {
-				clock-lanes = <0>;
-				data-lanes = <1 2 3 4>;
-				virtual-channel-number = <1>;
-				remote-endpoint = <&adv7482_1_out>;
-			};
-		};
+&gpio1 {
+	bl0_en {
+		gpio-hog;
+		gpios = <0 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "BL0_EN";
+	};
+	bl0_fren {
+		gpio-hog;
+		gpios = <21 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "BL0_FREN";
+	};
+	g2m_lvdstx_xrst {
+		gpio-hog;
+		gpios = <23 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "G2M_LVDSTX_XRST";
+	};
+	bl1_enpre {
+		gpio-hog;
+		gpios = <26 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "BL1_ENPRE";
 	};
 };
 
-&vspb {
-	status = "okay";
-};
-
-&vspi0 {
-	status = "okay";
-};
-
-&vin0 {
-	status = "okay";
+&gpio2 {
+	bl1_ensec {
+		gpio-hog;
+		gpios = <2 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "BL1_ENSEC";
+	};
+	bl0_dsch {
+		gpio-hog;
+		gpios = <3 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "BL0_DSCH";
+	};
+/*
+	fan_ctrl2 {
+		gpio-hog;
+		gipos = <8 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "FAN_CTRL2";
+	};
+*/
+};
+
+&gpio4 {
+	sd_pwren {
+		gpio-hog;
+		gpios = <7 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "SD_PWREN";
+	};
+    sd_xoc {
+        gpio-hog;
+        gpios = <12 GPIO_ACTIVE_LOW>;
+        input;
+        line-name = "SD_xOC";
+    };
+};
+
+&gpio5 {
+	g2m_pnl_xint {
+		gpio-hog;
+		gpios = <1 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "G2M_PNL_xINT";
+	};
+	g2m_pnl_write {
+		gpio-hog;
+		gpios = <3 GPIO_ACTIVE_HIGH>;
+		input;
+		line-name = "G2M_PNL_WRITE";
+	};
+	g2m_pnl_req {
+		gpio-hog;
+		gpios = <5 GPIO_ACTIVE_HIGH>;
+		input;
+		line-name = "G2M_PNL_REQ";
+	};
+	g2m_pnl_xrst {
+		gpio-hog;
+		gpios = <6 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "G2M_PNL_xRST";
+	};
+};
+
+&gpio6 {
+    tp3406 {
+		gpio-hog;
+		gpios = <3 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "TP3406";
+    };
+	mclk_sel {
+		gpio-hog;
+		gpios = <11 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "MCLK_SEL";
+	};
+	tp3423 {
+		gpio-hog;
+		gpios = <12 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "TP3423";
+	};
+	dacdit_xrst {
+		gpio-hog;
+		gpios = <14 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "DACDIT_xRST";
+	};
+	tp3407 {
+		gpio-hog;
+		gpios = <16 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "TP3407";
+	};
+	usbb1_xrst {
+		gpio-hog;
+		gpios = <17 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "USBB1_xRST";
+	};
+	g2m_xmute {
+		gpio-hog;
+		gpios = <21 GPIO_ACTIVE_HIGH>;
+		output-low;
+		line-name = "G2M_xMUTE";
+	};
+	usb30_pwen {
+		gpio-hog;
+		gpios = <28 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "USB30_PWEN";
+	};
+	usb30_ovc {
+		gpio-hog;
+		gpios = <29 GPIO_ACTIVE_LOW>;
+		input;
+		line-name = "USB30_OVC";
+	};
+};
+#if 0
+&gpio7 {
+	fan_ctrl1 {
+		gpio-hog;
+		gpios = <3 GPIO_ACTIVE_HIGH>;
+		output-high;
+		line-name = "FAN_CTRL1";
+	};
 };
+#endif
