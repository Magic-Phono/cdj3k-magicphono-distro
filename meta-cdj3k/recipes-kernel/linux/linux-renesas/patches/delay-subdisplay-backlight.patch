--- a/drivers/gpu/drm/drm_plane.c	2019-12-23 15:26:26.362681000 +0900
+++ b/drivers/gpu/drm/drm_plane.c	2020-02-07 13:59:01.508109439 +0900
@@ -23,6 +23,15 @@
 #include <drm/drmP.h>
 #include <drm/drm_plane.h>
 
+#ifdef CONFIG_PDJ
+#include <linux/of_gpio.h>
+#include <linux/delay.h>
+static int is_wait_backlight = 1;
+static int flip_count = 0;
+static uint jog_lcd_brightness = 0;
+module_param(jog_lcd_brightness,uint,0644);
+#endif
+
 #include "drm_crtc_internal.h"
 
 /**
@@ -872,6 +881,17 @@ int drm_mode_page_flip_ioctl(struct drm_
 			kfree(e);
 			goto out;
 		}
+#ifdef CONFIG_PDJ
+		if (is_wait_backlight) {
+			if (++flip_count > 10) {
+				is_wait_backlight = 0;
+				gpio_direction_output(493, 1);
+				if (jog_lcd_brightness != 1) {
+					gpio_direction_output(454, 1);
+				}
+			}
+		}
+#endif
 	}
 
 	crtc->primary->old_fb = crtc->primary->fb;
